<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <input type="file" name="file" id="fileinput">


    <script>
        // Select your input type file and store it in a variable
        const input = document.getElementById('fileinput');

        // This will upload the file after having read it
        const upload = (file) => {
            fetch('./api/upload2.php?nazwapliku=asfdfsda', { // Your POST endpoint
                method: 'POST',
                headers: {
                    // Content-Type may need to be completely **omitted**
                    // or you may need something
                    // "Content-Type": "You will perhaps need to define a content-type here"
                },
                body: file // This is your file object
            }).then(
                response => response.json() // if the response is a JSON object
            ).then(
                success => console.log(success) // Handle the success response object
            ).catch(
                error => console.log(error) // Handle the error response object
            );
        };

        // Event handler executed when a file is selected
        const onSelectFile = () => upload(input.files[0]);

        // Add a listener on your input
        // It will be triggered when a file will be selected
        input.addEventListener('change', onSelectFile, false);
    </script>
</body>

</html>